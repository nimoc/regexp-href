<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>RegExp a tag href</title>
  <link rel="stylesheet" href="src/qunit-1.17.1.css">
  <style>
textarea{
    width:100%;
}
  </style>
</head>
<body>
  <p>
    使用正则捕获 <a> 和 <area> 标签中的 href 属性内容
    <br>
    项目地址：<a href="https://github.com/nimojs/regexp-href">https://github.com/nimojs/regexp-href</a>
    <br>
    正则：<code>/&lt;a.*?\shref=['"]*([^'"\s<>]+)['"]*/i</code>
  </p>
  <textarea name="" autofocus="true" placeholder='Enter the A tags to test: <a href="http://www.github.com">demo</a>' id="teststr" ></textarea>
  <div id="testresult"></div>
  <div id="qunit"></div>
  <div id="qunit-fixture"></div>
  <script src="src/qunit-1.17.1.js"></script>
  <script src="regexp.js"></script>
  
  <script>
var link = function (html) {
    // 获取第一个匹配到的分组
    var aMatch = html.match(rLink)
    var output
    if (aMatch) {
        output = aMatch[1]
    } else {
        output = 'not find'
    }
    return output
}
var test = function (html, result) {
    QUnit.test( html, function( assert ) {
        var output = link(html);
        assert.ok(output  === result, output)
    })
}
var eTestStr = document.getElementById('teststr')
var eTestResult = document.getElementById('testresult')
eTestStr.onkeyup = function () {
    eTestResult.innerHTML = link(this.value)
}
var result = 'http://www.github.com'
test('<a href="http://www.github.com">', result)
test('<a href=\'http://www.github.com\'>', result)
test('<a href=http://www.github.com>', result)
test('<a href="http://www.github.com" href="http://www.nimojs.com">', result)
test('<a href=\'http://www.github.com\' href=\'http://www.nimojs.com\'>', result)
test('<A HREF="http://www.github.com">', result)
test('<a href="//www.github.com">', '//www.github.com')
test('<a href=\'//www.github.com\'>', '//www.github.com')
test('<a href=//www.github.com>', '//www.github.com')
test('<a href=href.github.com>', 'href.github.com')
test('<a x-href="http//www.github.com" href="http://www.github.com">', result)
test('<a x-href=\'http//www.github.com\' href=\'http://www.github.com\'>', result)
test('<a x-href=http//www.github.com href=\'http://www.github.com\'>', result)
test('<a title="href=" href="http://www.github.com">', result)
test('<area shape="rect" coords="375,165,604,210" href="http://www.github.com" target="_blank">', result)
  </script>
</body>
</html>